<h2 class="text-center mt-4">Project List</h2>

<!-- ADD PROJECT -->
<div class="container mt-4">
  <div class="card p-3">
    <h5>Add New Project</h5>
    <div class="row g-2 mt-2">
      <div class="col-md-3">
        <input class="form-control" placeholder="Project Name" [(ngModel)]="newProject.name">
      </div>
      <div class="col-md-3">
        <input type="date" class="form-control" [(ngModel)]="newProject.dueDate">
      </div>
      <div class="col-md-3">
        <input class="form-control" placeholder="Course Code" [(ngModel)]="newProject.course">
      </div>
      <div class="col-md-3">
        <button class="btn btn-success w-100" (click)="addProject()">+ Add</button>
      </div>
    </div>
  </div>
</div>

<!-- PROJECT TABLE -->
<div class="container mt-4">
  <table class="table table-striped table-hover">
    <thead>
      <tr>
        <th>Name</th>
        <th>Due Date</th>
        <th>Course</th>
        <th>Actions</th>
      </tr>
    </thead>

    <tbody>
      <tr *ngFor="let p of projects">
        <td>{{ p.name }}</td>
        <td>{{ p.dueDate }}</td>
        <td>{{ p.course }}</td>
        <td>
          <button class="btn btn-warning btn-sm" (click)="startEdit(p)">Edit</button>
          <button class="btn btn-danger btn-sm ms-2" (click)="deleteProject(p._id)">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<!-- EDIT MODAL -->
<div *ngIf="isEditing" class="modal-backdrop">
  <div class="modal-card">
    <h4>Edit Project</h4>

    <input class="form-control mt-2" [(ngModel)]="editProjectData.name">
    <input class="form-control mt-2" type="date" [(ngModel)]="editProjectData.dueDate">
    <input class="form-control mt-2" [(ngModel)]="editProjectData.course">

    <div class="mt-3 d-flex justify-content-between">
      <button class="btn btn-primary" (click)="saveEdit()">Save</button>
      <button class="btn btn-secondary" (click)="cancelEdit()">Cancel</button>
    </div>
  </div>
</div>
